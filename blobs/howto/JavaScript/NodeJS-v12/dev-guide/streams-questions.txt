how do I make sure I close my stream? 

.NET writeable streams

Upload to a stream in Blob Storage
docs.microsoft.com/en-us/azure/storage/blobs/storage-blob-upload#upload-to-a-stream-in-blob-storage

Upload with staging blocks
docs.microsoft.com/en-us/azure/storage/blobs/storage-blob-upload#upload-by-staging-blocks-and-then-committing-them

Download from a stream
docs.microsoft.com/en-us/azure/storage/blobs/storage-blob-download#download-from-a-stream

how is an append blob different conceptually than a stage blob? Both .NET examples 
seem like chunking/pipe/stream stuff

copy blob - .NET shows the lease creation so that the underlying blob doesn't change
does JS also need a lease or does the LRO create the lease under the covers - the 
ref doc doesn't say and the ref doc examples don't hint at the leasing as important

https://docs.microsoft.com/en-us/javascript/api/@azure/storage-blob/blobclient?view=azure-node-latest

copy sync versus copy async
-BlobClient.beginCopyFromUrl - LRO & polling
-BlobClient.syncCopyFromUrl - not return until copy is complete

1. get first blob's name in container (as an example of getting any blob to copy)
2. create blobClient from that blob name
3. if blob exists
    a. createLeaseClient from source blob
    b. acquire lease for a tiny time interval
    c. create destination blob with container.getBlobClient
    d. destinationBlob.startCopyFromUri
    e. refresh source blob's properties to verify lease state - if still leased, lease.break();
    f. refresh source blob's properties to verify lease state 

Cancel copy operation of async copy only
1. Check destination's blob properties for copyStatus - State of the copy operation identified by x-ms-copy-id.
2. destBlob.abortCopyFromURL(string, BlobAbortCopyFromURLOptions)

odata syntax for multiple tags


append blob at end  - logging from web site
(and block blob)

staging - upload data separately - commit in order you want

Ted Glaza - know if service doesn't something weird

for can't recreate blob



delete blobs

versioning only => undeleteBlob (https://docs.microsoft.com/en-us/rest/api/storageservices/undelete-blob)


versioning + soft delete => copy a previous version over current blob to restore

a
b
c - deleted
c - copy previous as undelete - reference with datatime url or listing operation and include versions and order with linq - (https://docs.microsoft.com/en-us/azure/storage/blobs/soft-delete-blob-manage?tabs=dotnet#restore-soft-deleted-blobs-when-versioning-is-enabled-1)

replace orderby with takeWhile

blob listing is guaranteed to be alphabetical


-- SDK storage - 
append to blob - is supposed to get the full content at each append,
not optimized for streams
how do I see that an append blob has been set to read-only in portal
is that a one way action